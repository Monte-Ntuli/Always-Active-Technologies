@inject NavigationManager navMan;
@inherits LayoutBase;

<MudNavMenu>
    <MudNavLink Href="/" Match="NavLinkMatch.All">Events</MudNavLink>
    <MudNavGroup Title="Manage My Events" Expanded="true">
        <MudNavLink Href="/CreateEvent" Match="NavLinkMatch.Prefix">Create Event</MudNavLink>
        <MudNavLink Href="/MyEvents" Match="NavLinkMatch.Prefix">My Events</MudNavLink>
        <MudNavLink Href="/MyBookings" Match="NavLinkMatch.Prefix">My Booked Events</MudNavLink>
    </MudNavGroup>
    <MudNavLink @onclick="Logout" Match="NavLinkMatch.Prefix">Log out</MudNavLink>
    <MudNavLink @onclick="Register" Match="NavLinkMatch.Prefix">Register</MudNavLink>
</MudNavMenu>

@code {
    void Logout()
    {
        localStorage.ClearAsync();
        navMan.NavigateTo("/");
    }

    void Register()
    {
        localStorage.ClearAsync();
        navMan.NavigateTo("/Register");
    }
}
